<!doctype html>
<title>Select Year</title>
<link rel="icon" href="./icons/icon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="./icons/apple-touch-icon-180x180.png">
<link rel="manifest" href="./manifest.json">
<link rel="stylesheet" href="../libs/style.css">
<style>
    button.year {
        background-color: lightgray;
        color: black;
        border-radius: 5px;
        cursor: pointer;

        display: inline-block;
        width: 200px;
        height: 160px;
    }
    img.year-img {
        border-radius: 5px;
        border: 1px solid black;

        width: 100%;
        margin-top: 3px;
    }
</style>

<div id="yearsEl"></div>

<script src="../libs/gamepads.js"></script>
<script src="../libs/gamepadControl.js"></script>
<script src="../libs/install.js"></script>
<script>
    displayInstallButton()
    
    const years = {
        2025: "Reefscape",
    }
    let currentYear = new Date().getFullYear()

    yearsEl.innerText = ""
    for (let i = 0; i < Object.keys(years).length; i++) {
        let year = Object.keys(years)[i]
        let name = years[year]

        let a = document.createElement("a")
        a.href = `./year/${name}.html`
        let button = document.createElement("button")
        button.className = "year"
        button.id = `${year}`
        button.innerText = `${name} (${year})`

        let img = document.createElement("img")
        img.className = "year-img"
        img.src = `./year-img/${name}.png`
        button.append(img)
        
        a.append(button)
        yearsEl.append(a)
        if (i == 0) button.focus()
    }

    gamepadElCursorInit(
        true,
        document.querySelectorAll("button"),
        el => el.style.color = "gray",
        el => el.style.color = "black",
        el => el.click(),
    )
</script>
